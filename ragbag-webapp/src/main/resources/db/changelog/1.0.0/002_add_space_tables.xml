<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="2024-04-24: create table space" author="drottstegge">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="space"/>
            </not>
        </preConditions>

        <createTable tableName="space">
            <column name="id" type="bigint" autoIncrement="true" incrementBy="1" startWith="1">
                <constraints primaryKey="true" primaryKeyName="PK_SPACE_ID"/>
            </column>
            <column name="version" type="int" defaultValueNumeric="0">
                <constraints nullable="false"/>
            </column>
            <column name="created" type="datetime" defaultValueComputed="CURRENT_TIMESTAMP"/>
            <column name="last_modified" type="datetime" defaultValueComputed="CURRENT_TIMESTAMP"/>

            <column name="name" type="varchar(150)">
                <constraints nullable="false" />
            </column>
        </createTable>
    </changeSet>

<!--    <changeSet id="2024-04-24: create table TUSER_SPACEROLE" author="drottstegge">-->
<!--        <preConditions onFail="MARK_RAN">-->
<!--            <not>-->
<!--                <tableExists tableName="TUSER_SPACEROLE"/>-->
<!--            </not>-->
<!--        </preConditions>-->

<!--        <createTable tableName="SPACE_TUSER">-->
<!--            <column name="space_id" type="bigint">-->
<!--                <constraints nullable="false" referencedTableName="SPACE" referencedColumnNames="id"-->
<!--                  foreignKeyName="FK_SPACE_TUSER_SPACE_ID"/>-->
<!--            </column>-->
<!--            <column name="user_id" type="bigint">-->
<!--                <constraints nullable="false" referencedTableName="TUSER" referencedColumnNames="id"-->
<!--                  foreignKeyName="FK_SPACE_TUSER_USER_ID"/>-->
<!--            </column>-->
<!--        </createTable>-->
<!--    </changeSet>-->

</databaseChangeLog>